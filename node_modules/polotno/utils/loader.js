"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.whenLoaded=exports.decrementLoader=exports.incrementLoader=void 0;const use_fadein_1=require("../canvas/use-fadein");let loadCount=0,listeners=[];function incrementLoader(){loadCount+=1}function decrementLoader(){loadCount-=1,0===loadCount&&(listeners.forEach((e=>e())),listeners=[])}function whenLoadedCallback(e){0===loadCount?e():listeners.push(e)}function whenLoaded(){return new Promise((e=>whenLoadedCallback((()=>{(0,use_fadein_1.isAnimationUsed)()?setTimeout(e,300):e(!0)}))))}exports.incrementLoader=incrementLoader,exports.decrementLoader=decrementLoader,exports.whenLoaded=whenLoaded;