"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FiltersPicker=void 0;const react_1=__importDefault(require("react")),core_1=require("@blueprintjs/core"),popover2_1=require("@blueprintjs/popover2"),mobx_react_lite_1=require("mobx-react-lite"),color_picker_1=__importDefault(require("./color-picker")),l10n_1=require("../utils/l10n"),limit=(e,t,a)=>Math.max(t,Math.min(a,e));exports.FiltersPicker=(0,mobx_react_lite_1.observer)((({element:e,store:t})=>{const a="text"===e.type,r="image"===e.type,l="svg"===e.type;return react_1.default.createElement(popover2_1.Popover2,{content:react_1.default.createElement("div",{style:{padding:"15px",paddingTop:"25px",width:"200px"}},react_1.default.createElement(core_1.Switch,{checked:e.blurEnabled,label:(0,l10n_1.t)("toolbar.blur"),onChange:t=>{e.set({blurEnabled:t.target.checked})},alignIndicator:core_1.Alignment.RIGHT}),e.blurEnabled&&react_1.default.createElement(core_1.Slider,{value:e.blurRadius,labelStepSize:5,onChange:t=>{e.set({blurRadius:t})},min:0,max:20,showTrackFill:!1}),react_1.default.createElement(core_1.Switch,{checked:e.brightnessEnabled,label:(0,l10n_1.t)("toolbar.brightness"),onChange:t=>{e.set({brightnessEnabled:t.target.checked})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),e.brightnessEnabled&&react_1.default.createElement(core_1.Slider,{value:100*e.brightness+100,onChange:t=>{e.set({brightness:(t-100)/100})},min:0,max:200,showTrackFill:!1,labelStepSize:50}),react_1.default.createElement(core_1.Switch,{checked:e.sepiaEnabled,label:(0,l10n_1.t)("toolbar.sepia"),onChange:t=>{e.set({sepiaEnabled:t.target.checked})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),react_1.default.createElement(core_1.Switch,{checked:e.grayscaleEnabled,label:(0,l10n_1.t)("toolbar.grayscale"),onChange:t=>{e.set({grayscaleEnabled:t.target.checked})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),a&&react_1.default.createElement(core_1.Switch,{checked:!!e.strokeWidth,label:(0,l10n_1.t)("toolbar.textStroke"),onChange:t=>{e.set({strokeWidth:t.target.checked?2:0})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),!!e.strokeWidth&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react_1.default.createElement(color_picker_1.default,{value:e.stroke,size:30,onChange:t=>{e.set({stroke:t})},store:t}),react_1.default.createElement(core_1.NumericInput,{defaultValue:e.strokeWidth,onValueChange:t=>{e.set({strokeWidth:limit(t,1,30)})},style:{width:"80px"},min:1,max:30}))),(r||l)&&react_1.default.createElement(core_1.Switch,{checked:!!e.borderSize,label:(0,l10n_1.t)("toolbar.border"),onChange:t=>{e.set({borderSize:t.target.checked?2:0})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),!!e.borderSize&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},react_1.default.createElement(color_picker_1.default,{value:e.borderColor,size:30,onChange:t=>{e.set({borderColor:t})},store:t}),react_1.default.createElement(core_1.NumericInput,{defaultValue:e.borderSize,onValueChange:t=>{e.set({borderSize:limit(t,1,30)})},style:{width:"80px"},min:1,max:30}))),r&&react_1.default.createElement(core_1.Switch,{checked:!!e.cornerRadius,label:(0,l10n_1.t)("toolbar.cornerRadius"),onChange:t=>{e.set({cornerRadius:t.target.checked?Math.min(e.width/4,e.height/4):0})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),!!e.cornerRadius&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Slider,{value:Math.min(e.cornerRadius,Math.round(Math.min(e.width/2,e.height/2))),onChange:t=>{e.set({cornerRadius:t})},min:1,max:Math.round(Math.min(e.width/2,e.height/2)),labelStepSize:25,showTrackFill:!1,labelRenderer:!1})),react_1.default.createElement(core_1.Switch,{checked:e.shadowEnabled,label:(0,l10n_1.t)("toolbar.shadow"),onChange:t=>{e.set({shadowEnabled:t.target.checked})},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"20px"}}),e.shadowEnabled&&react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(core_1.Slider,{value:e.shadowBlur,onChange:t=>{e.set({shadowBlur:t})},min:0,max:50,showTrackFill:!1,labelRenderer:!1}))),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Button,{icon:"left-join",text:(0,l10n_1.t)("toolbar.effects"),minimal:!0}))})),exports.default=exports.FiltersPicker;