"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleHotkey=void 0;let clipBoard=[];function handleHotkey(e,t){var o,l,d,n;if("INPUT"===(null===(o=document.activeElement)||void 0===o?void 0:o.tagName)||"TEXTAREA"===(null===(l=document.activeElement)||void 0===l?void 0:l.tagName)||"true"===(null===(d=document.activeElement)||void 0===d?void 0:d.contentEditable))return;46!==e.keyCode&&8!==e.keyCode||t.deleteElements(t.selectedElementsIds);const r=e.ctrlKey||e.metaKey,a=e.shiftKey;if(r&&"KeyZ"===e.code&&(e.preventDefault(),t.history.undo()),r&&a&&"KeyZ"===e.code&&(e.preventDefault(),t.history.redo()),r&&"KeyA"===e.code&&(e.preventDefault(),t.selectElements((null===(n=t.activePage)||void 0===n?void 0:n.children.map((e=>e.id)))||[])),r&&"KeyC"===e.code&&(e.preventDefault(),clipBoard=t.selectedElements.map((e=>e.toJSON()))),r&&"KeyX"===e.code&&(e.preventDefault(),clipBoard=t.selectedElements.map((e=>e.toJSON())),t.deleteElements(t.selectedElementsIds)),r&&"KeyV"===e.code){e.preventDefault();const o=t.width/20;t.history.transaction((()=>{clipBoard.forEach((e=>{var l;delete e.id,e.x+=o,e.y+=o,null===(l=t.activePage)||void 0===l||l.addElement(e)}))})),t.history.redo()}"ArrowDown"===e.code&&(e.preventDefault(),t.selectedElements.forEach((e=>{e.set({y:e.y+1})}))),"ArrowUp"===e.code&&(e.preventDefault(),t.selectedElements.forEach((e=>{e.set({y:e.y-1})}))),"ArrowLeft"===e.code&&(e.preventDefault(),t.selectedElements.forEach((e=>{e.set({x:e.x-1})}))),"ArrowRight"===e.code&&(e.preventDefault(),t.selectedElements.forEach((e=>{e.set({x:e.x+1})})))}exports.handleHotkey=handleHotkey;